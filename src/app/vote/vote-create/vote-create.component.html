
<mat-card class="card">
<form [formGroup] ="partyForm" (submit)="onAddParty()" *ngIf="!isLoading">
  <mat-form-field>
    <input
      matInput
      type="text"
      formControlName="title"
      placeholder="Party Title"
      required>
    <mat-error *ngIf="partyForm.get('title').invalid">Please enter a valid Title</mat-error>
  </mat-form-field>

  <div>
    <button mat-stroked-button color="primary" type="button" (click)="filePicker.click()">Pick Logo</button>
    <input type="file" #filePicker (change)="onImagePicked($event)">
  </div>

  <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && partyForm.get('image').valid">
    <img [src]="imagePreview" [alt]="partyForm.value.title">
  </div>

  <mat-form-field>
    <input matInput type="text" required  formControlName="content" placeholder="Party Content">
    <mat-error *ngIf="partyForm.get('content').invalid">Please enter a vaild content.</mat-error>
  </mat-form-field>

  <mat-form-field>
    <input matInput type="number" required  formControlName="voteCount" placeholder="Vote Count">
    <mat-error *ngIf="partyForm.get('voteCount').invalid">Please enter Zero</mat-error>
  </mat-form-field>

  <button mat-raised-button color="accent" type="submit" *ngIf="!isLoading">Create Party</button>
  </form>
</mat-card>


